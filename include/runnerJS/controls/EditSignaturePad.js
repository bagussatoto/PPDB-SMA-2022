
Runner.controls.EditSignaturePad=Runner.extend(Runner.controls.Control,{required:false,bgColor:'#ffffff',color:'#145394',linew:2,cfield:"",constructor:function(cfg){this.addEvent(["change","keyup"]);Runner.controls.EditSignaturePad.superclass.constructor.call(this,cfg);this.required=this.getFieldSetting("required");this.bgColor=this.getFieldSetting("bgColor");this.linew=this.getFieldSetting("lineWidth");this.color=this.getFieldSetting("lineColor");this.cfield=this.getFieldSetting("cfield");if(this.required){this.addValidation("IsRequired");}
$('#sigPad_'+this.cfield).signaturePad({drawOnly:true,bgColour:this.bgColor,penColour:this.color,penWidth:this.linew,onDraw:this._onBegin});},_onBegin:function(){Runner.pages.RunnerPage.prototype.setPageModified(true);},isEmpty:function(){return this.getValue().toString()=="";},getForSubmit:function(){if(!this.appearOnPage()){return[];}
return[this.valueElem.clone().val(this.getValue())];}});Runner.controls.constants["EditSignaturePad"]="EditSignaturePad";